{% extends 'cashier/base.html' %}
{% block content %}

<div class="container">
  <h2 style="text-align:center;">
    Overview for <strong>{{data.contactInfo.Name}}</strong> <br>
    You balance is
    {% if  data.balance >= 0 %}
      <span class="text-success">
    {% else %}
      <span class="text-danger">
    {% endif %}
    {{data.balance}}</span> crowns
  </h2>
  <div class="panel-group col-md-4 col-md-offset-4">
    <div class="panel panel-default">
      <div class="panel-heading text-center">
        <h4 class="panel-title btn btn-info">
          <a data-toggle="collapse" href="#contactInfo">Contact info</a>
        </h4>
      </div>
      <div id="contactInfo" class="panel-collapse collapse">
        {% if data.hasContactInfo  %}

        <div class="panel-body">
          <strong>Phone Number: </strong> {{data.contactInfo.Phone}}
        </div>

        <div class="panel-footer">
          <strong>Emergency Contact:</strong>
          {{data.contactInfo.EmergencyContact }} :
          {{data.contactInfo.EmergencyPhone}}
        </div>


        {% else %}
        <div class="panel-body">
          You don't have any contact info, contact the cashier to get it.
        </div>
        {% endif %}
      </div>
    </div>
  </div>


  <table class="table table-bordered table-hover table-condensed
  col-md-10 col-md-offset-0">
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Amount</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for transaction in data.transactions %}
          {% if transaction.amount < 0  %}
          <tr class="danger">
          {% else %}
          <tr class="success">
          {% endif %}
          <td>{{transaction.date}}</td>
          <td>{{transaction.description}}</td>
          <td>{{transaction.amount}}</td>
          <td>{{transaction.total}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
